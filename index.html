<!DOCTYPE html>
<html>
	<head>
		<title>Theme Customiser</title>
		<link rel="stylesheet" href="./assets/customiser.css" type="text/css">
		<script src="https://kit.fontawesome.com/6dbb1e5ab5.js" crossorigin="anonymous"></script>
		<link rel="icon" type="image/png" href="./assets/favicon_16.png" sizes="16x16">
		<link rel="icon" type="image/png" href="./assets/favicon_32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="./assets/favicon_128.png" sizes="128x128">
		<link rel="icon" type="image/png" href="./assets/favicon_256.png" sizes="256x256">
	</head>
	<body>
		<div class="content" id="js-content">
			<div class="sidebar">
				<nav class="sidebar__nav">
					<a class="sidebar__nav-link o-hidden js-help js-help-href" target="_blank">
						<i class="sidebar__nav-link-icon fa-solid fa-question"></i>
						<span class="sidebar__nav-link-text">Theme Help</span>
					</a>
					<a href="#" class="sidebar__nav-link" onclick="document.getElementById('js-import').classList.toggle('o-hidden')">
						<i class="sidebar__nav-link-icon fa-solid fa-upload"></i>
						<span class="sidebar__nav-link-text">Import</span>
					</a>
					<a href="#" class="sidebar__nav-link o-hidden" id="js-share">
						<i class="sidebar__nav-link-icon fa fa-share-alt"></i>
						<span class="sidebar__nav-link-text">Share</span>
					</a>
					<a href="?" class="sidebar__nav-link o-hidden">
						<i class="sidebar__nav-link-icon fa fa-arrow-left"></i>
						<span class="sidebar__nav-link-text">Back</span>
					</a>
				</nav>

				<div class="sidebar__section sidebar__section--no-border sidebar__section--title">
					<h1 class="sidebar__sub-title">Customise your theme</h1>
					<h2 class="sidebar__title" id="js-title">Loading theme...</h2>
				</div>

				<div class="sidebar__section">
					<div class="c-expando js-expando" data-expando-limit="400" id="js-options">
						<button class="c-expando__button js-expando-button">Expand</button>
						
						<h3 class="sidebar__header">Change theme options</h3>

						<!-- options gets put here by customiser.js -->
					</div>
				</div>

				<div class="sidebar__section">
					<div class="c-expando js-expando" data-expando-limit="200" id="js-mods">
						<button class="c-expando__button js-expando-button">Expand</button>
						
						<h3 class="sidebar__header">Choose theme modifications</h3>
						
						<!-- mods gets put here by customiser.js -->
					</div>
				</div>

				<div class="sidebar__section">
					<h3 class="sidebar__header">Install customised theme</h3>
					
					<div id="js-columns"></div>

					<div class="c-code">
						<b class="c-code__title">Install CSS</b>
						<code class="c-code__preview" id="js-output">
						<!-- code gets put here by customiser.js -->
						</code>

						<div class="c-notice o-hidden" id="js-output-notice"></div>
					
						<button class="button button--highlighted" id="js-copy-output" onclick="navigator.clipboard.writeText(document.getElementById('js-output').textContent); let swap = this.querySelector('.js-swap'); swap.classList.add('swappable-text__inner--swapped'); setTimeout(() => {swap.classList.remove('swappable-text__inner--swapped')}, 666)">
							<div class="swappable-text">
								<div class="swappable-text__inner js-swap">
									Copy Output
									<br />
									Copied!
								</div>
							</div>
						</button>

						<a class="hyperlink" onclick="document.getElementById('js-installation').classList.toggle('o-hidden')">How do I install this?</a>
					</div>
				</div>

				<footer class="sidebar__section sidebar__section--no-border">
					<div class="footer">
						<div class="footer__row">
							<small class="footer__subtle-text">Theme Customiser by <a href="https://github.com/ValerioLyndon" class="hyperlink">Valerio Lyndon</a>.</small>
						</div> 
						<div class="footer__row">
							<a href="https://github.com/ValerioLyndon/Theme-Customiser/issues" class="hyperlink">Feedback/Help</a>
							<span class="footer__separator">•</span>
							<a href="https://github.com/ValerioLyndon/Theme-Customiser" class="hyperlink">Source Code</a>
							<span class="footer__separator">•</span>
							<a href="https://github.com/ValerioLyndon/Theme-Customiser/wiki" class="hyperlink">Use this with your design</a>
						</div> 
					</div>
				</footer>
			</div>

			<div class="preview">
				<iframe src="preview.html" class="preview__window" id="js-frame"></iframe>
			</div>
		</div>

		<div class="c-popup o-hidden" id="js-installation">
			<div class="c-popup__inner">
				<div class="c-popup__invisibutton" onclick="document.getElementById('js-installation').classList.toggle('o-hidden')"></div>
				<div class="c-popup__content c-popup__content--wide">
					<!--(This section needs a lot of improvement:
					
					- should have images and proper formatting.
					- should list different options for modern or classic lists)
					-->

					<h4 class="c-popup__header">How to install list CSS.</h4>

					<ol class="c-steps">
						<li class="c-steps__step">
							<p class="c-popup__paragraph">Navigate to your <a class="hyperlink" href="https://myanimelist.net/ownlist/style">style settings</a> on MyAnimeList.</p>
							<img src="./images/style-page.jpg" class="c-popup__image c-popup__image--thumb  c-popup__image--expand" />
							<p class="c-info-box">If your page does not look like this, double check you have the "<span class="js-list-type">Modern</span><!--todo: add js functionality here-->" option selected. This option is found near the top, where it says "Switch Template".</p>
						</li>
						<li class="c-steps__step">
							<p class="c-popup__paragraph">Open your currently selected style. The selected style will be highlighted on your page.</p>
							<img src="./images/selected-style.jpg" class="c-popup__image" />
						</li>
						<li class="c-steps__step">
							<p class="c-popup__paragraph">In the sidebar, navigate down to the "Add Custom CSS" area. Click to expand it if necessary.</p>
							<img src="./images/custom-css.jpg" class="c-popup__image c-popup__image--thumb c-popup__image--expand" />
						</li>
						<li class="c-steps__step">
							<p class="c-popup__paragraph">Copy the CSS from the theme customiser and paste it into the "Add Custom CSS" text box on MyAnimeList.</p>
							<img src="./images/copy-css.jpg" class="c-popup__image" />
						</li>
						<li class="c-steps__step">
							<p class="c-popup__paragraph">Click "Save" and your theme should be applied!</p>
							<img src="./images/save.jpg" class="c-popup__image" />
							<p class="c-info-box">If you encounter any issues with the theme colours or images, try toggling the cover and/or background images. Some themes do not play nicely with these while others may require them.</p>
							<p class="c-info-box o-hidden js-help">
								If this guide did not work for you or you have further questions, please check the theme-specific help page provided by the theme author.
								<a class="hyperlink js-help-href">Get help</a>.
							</p>
						</li>
					</ol>
				</div>
			</div>
		</div>

		<div class="c-popup o-hidden" id="js-import">
			<div class="c-popup__inner">
				<div class="c-popup__invisibutton" onclick="document.getElementById('js-import').classList.toggle('o-hidden')"></div>
				<div class="c-popup__content">
					<h4 class="c-popup__header">Import previous settings.</h4>
					
					<p class="c-popup-paragraph">Paste into this textbox your theme CSS or the "Theme Customiser Preset" section. You may be redirected if there is a mis-match between your currently selected theme and the imported theme.</p>

					<textarea id="js-import-code" class="textarea"></textarea>
					<button class="button button--highlighted" id="js-import-button">Import</button>
				</div>
			</div>
		</div>

		<div class="loading-screen" id="js-loader">
			<div class="loading-screen__spinner" id="js-loader-icon"></div>
			<div class="loading-screen__text" id="js-loader-text">Loading...</div>
			<div class="loading-screen__subtext" id="js-loader-subtext">JavaScript must be enabled.</div>
			<div class="loading-screen__subtext o-hidden" id="js-loader-subsubtext">JavaScript must be enabled.</div>
		</div>
	</body>

	<script src="./assets/customiser.js" type="text/javascript"></script>
</html>